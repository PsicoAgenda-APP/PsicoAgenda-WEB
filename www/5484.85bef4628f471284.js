"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[5484],{5484:(z,x,d)=>{d.r(x),d.d(x,{SoportepsicologoPageModule:()=>U});var D=d(177),A=d(4341),l=d(1075),f=d(9860),T=d(467),E=d(3207),e=d(4438),n=d(3366);function p(a,r){if(1&a&&(e.j41(0,"ion-select-option",24),e.EFF(1),e.k0s()),2&a){const i=r.$implicit;e.Y8G("value",i),e.R7$(),e.E5c("Paciente: ",i.Nombre_Paciente," / Dia: ",i.FechaCita," / Hora: ",i.HoraCita,"")}}function u(a,r){if(1&a){const i=e.RV6();e.j41(0,"ion-col")(1,"ion-select",22),e.mxI("ngModelChange",function(o){e.eBV(i);const s=e.XpG();return e.DH7(s.mdl_detalle,o)||(s.mdl_detalle=o),e.Njj(o)}),e.bIt("ionChange",function(){e.eBV(i);const o=e.XpG();return o.botonTrue(),e.Njj(o.botones())}),e.DNE(2,p,2,4,"ion-select-option",23),e.k0s()()}if(2&a){const i=e.XpG();e.R7$(),e.R50("ngModel",i.mdl_detalle),e.R7$(),e.Y8G("ngForOf",i.lista_citas)}}function h(a,r){if(1&a){const i=e.RV6();e.j41(0,"ion-button",25),e.bIt("click",function(){e.eBV(i);const o=e.XpG();return e.Njj(o.cancelarCita())}),e.EFF(1,"Enviar Solicitud"),e.k0s()}}function _(a,r){if(1&a&&(e.j41(0,"ion-select-option",24),e.EFF(1),e.k0s()),2&a){const i=r.$implicit;e.Y8G("value",i),e.R7$(),e.E5c("Paciente: ",i.Nombre_Paciente," / Dia: ",i.FechaCita," / Hora: ",i.HoraCita,"")}}function C(a,r){if(1&a){const i=e.RV6();e.j41(0,"ion-col")(1,"ion-select",22),e.mxI("ngModelChange",function(o){e.eBV(i);const s=e.XpG();return e.DH7(s.mdl_detalle,o)||(s.mdl_detalle=o),e.Njj(o)}),e.bIt("ionChange",function(){e.eBV(i);const o=e.XpG();return o.botonTrue(),e.Njj(o.botones())}),e.DNE(2,_,2,4,"ion-select-option",23),e.k0s()()}if(2&a){const i=e.XpG();e.R7$(),e.R50("ngModel",i.mdl_detalle),e.R7$(),e.Y8G("ngForOf",i.lista_citas)}}function P(a,r){if(1&a){const i=e.RV6();e.j41(0,"ion-col")(1,"ion-item")(2,"ion-datetime",26),e.mxI("ngModelChange",function(o){e.eBV(i);const s=e.XpG();return e.DH7(s.selectedDate,o)||(s.selectedDate=o),e.Njj(o)}),e.bIt("ionChange",function(){e.eBV(i);const o=e.XpG();return e.Njj(o.loadAvailableTimes())}),e.k0s()()()}if(2&a){const i=e.XpG();e.R7$(2),e.R50("ngModel",i.selectedDate)}}function F(a,r){1&a&&(e.j41(0,"ion-item")(1,"ion-text",27),e.EFF(2,"No hay citas disponibles para el d\xeda seleccionado"),e.k0s()())}function R(a,r){1&a&&(e.j41(0,"ion-item")(1,"ion-text",27),e.EFF(2,"Seleccione un d\xeda posterior"),e.k0s()())}function I(a,r){if(1&a&&(e.j41(0,"ion-select-option",24),e.EFF(1),e.k0s()),2&a){const i=r.$implicit;e.Y8G("value",i),e.R7$(),e.JRh(i.HoraCita)}}function S(a,r){if(1&a){const i=e.RV6();e.j41(0,"ion-col")(1,"ion-select",28),e.mxI("ngModelChange",function(o){e.eBV(i);const s=e.XpG();return e.DH7(s.mdl_hora,o)||(s.mdl_hora=o),e.Njj(o)}),e.bIt("ionChange",function(){e.eBV(i);const o=e.XpG();return e.Njj(o.ultimoBoton())}),e.DNE(2,I,2,2,"ion-select-option",23),e.k0s()()}if(2&a){const i=e.XpG();e.R7$(),e.R50("ngModel",i.mdl_hora),e.R7$(),e.Y8G("ngForOf",i.availableTimes)}}function O(a,r){if(1&a){const i=e.RV6();e.j41(0,"ion-button",25),e.bIt("click",function(){e.eBV(i);const o=e.XpG();return e.Njj(o.reagendarCitaFinal())}),e.EFF(1,"Reagendar Cita"),e.k0s()}}function M(a,r){if(1&a){const i=e.RV6();e.j41(0,"ion-col")(1,"ion-input",29),e.mxI("ngModelChange",function(o){e.eBV(i);const s=e.XpG();return e.DH7(s.mdl_asunto,o)||(s.mdl_asunto=o),e.Njj(o)}),e.k0s()()}if(2&a){const i=e.XpG();e.R7$(),e.R50("ngModel",i.mdl_asunto)}}function v(a,r){if(1&a){const i=e.RV6();e.j41(0,"ion-col")(1,"ion-textarea",30),e.mxI("ngModelChange",function(o){e.eBV(i);const s=e.XpG();return e.DH7(s.mdl_mensaje,o)||(s.mdl_mensaje=o),e.Njj(o)}),e.k0s()()}if(2&a){const i=e.XpG();e.R7$(),e.R50("ngModel",i.mdl_mensaje),e.Y8G("autoGrow",!0)}}function k(a,r){if(1&a){const i=e.RV6();e.j41(0,"ion-button",25),e.bIt("click",function(){e.eBV(i);const o=e.XpG();return e.Njj(o.enviarConsulta())}),e.EFF(1,"Enviar Consulta"),e.k0s()}}function N(a,r){if(1&a&&(e.j41(0,"ion-select-option",24),e.EFF(1),e.k0s()),2&a){const i=r.$implicit;e.Y8G("value",i),e.R7$(),e.E5c("Paciente: ",i.Nombre_Paciente," / Dia: ",i.FechaCita," / Hora: ",i.HoraCita,"")}}function G(a,r){if(1&a){const i=e.RV6();e.j41(0,"ion-col")(1,"ion-select",22),e.mxI("ngModelChange",function(o){e.eBV(i);const s=e.XpG();return e.DH7(s.mdl_detalle,o)||(s.mdl_detalle=o),e.Njj(o)}),e.bIt("ionChange",function(){e.eBV(i);const o=e.XpG();return o.botonTrue(),e.Njj(o.botones())}),e.DNE(2,N,2,4,"ion-select-option",23),e.k0s()()}if(2&a){const i=e.XpG();e.R7$(),e.R50("ngModel",i.mdl_detalle),e.R7$(),e.Y8G("ngForOf",i.lista_citas)}}function y(a,r){if(1&a){const i=e.RV6();e.j41(0,"ion-col")(1,"ion-textarea",31),e.mxI("ngModelChange",function(o){e.eBV(i);const s=e.XpG();return e.DH7(s.mdl_asunto,o)||(s.mdl_asunto=o),e.Njj(o)}),e.k0s()()}if(2&a){const i=e.XpG();e.R7$(),e.R50("ngModel",i.mdl_asunto),e.Y8G("autoGrow",!0)}}function w(a,r){if(1&a){const i=e.RV6();e.j41(0,"ion-col")(1,"ion-textarea",32),e.mxI("ngModelChange",function(o){e.eBV(i);const s=e.XpG();return e.DH7(s.mdl_mensaje,o)||(s.mdl_mensaje=o),e.Njj(o)}),e.k0s()()}if(2&a){const i=e.XpG();e.R7$(),e.R50("ngModel",i.mdl_mensaje),e.Y8G("autoGrow",!0)}}function $(a,r){if(1&a){const i=e.RV6();e.j41(0,"ion-button",25),e.bIt("click",function(){e.eBV(i);const o=e.XpG();return e.Njj(o.finalizarCita())}),e.EFF(1,"Finalizar Cita"),e.k0s()}}const H=[{path:"",component:(()=>{var a;class r{constructor(t,o){this.router=t,this.apiService=o,this.login=!1,this.idTipo=0,this.idPaciente=0,this.correo="",this.idUsuario=0,this.idPersona=0,this.mdl_opcion="",this.formReagendar=!1,this.botonReagendar=!1,this.formCancelar=!1,this.botonCancelar=!1,this.formConsulta=!1,this.botonConsulta=!1,this.formFinalizar=!1,this.botonFinalizar=!1,this.lista_respuesta=[],this.lista_citas=[],this.lista_datos=[],this.lista_psicologos=[],this.boton=!1,this.mdl_detalle=[],this.mdl_hora=[],this.correoCorp="soporte@psicoagenda.online",this.isAlertOpen=!1,this.isAlertOpen2=!1,this.isAlertOpen3=!1,this.isAlertOpen4=!1,this.isAlertOpen5=!1,this.alertButtons=["OK"],this.mdl_asunto="",this.mdl_mensaje="",this.nombre="",this.rut="",this.selectedDate="",this.fechaFinal="",this.availableTimes=[],this.fechaAnterior=!1,this.fechaCita="",this.validadorHora=1,this.idPsicologo=0,this.horas=!1,this.botonFinal=!1,this.listaReagendar=!1}ngOnInit(){var t=this;return(0,T.A)(function*(){let o=t.router.getCurrentNavigation();if(null!=o&&o.extras.state&&(t.idTipo=null==o?void 0:o.extras.state.idTipoUsuario,t.idPaciente=null==o?void 0:o.extras.state.idPaciente,t.idUsuario=null==o?void 0:o.extras.state.idUsuario,t.login=null==o?void 0:o.extras.state.login,t.correo=null==o?void 0:o.extras.state.correo,t.idPersona=null==o?void 0:o.extras.state.idPersona,t.idPsicologo=null==o?void 0:o.extras.state.idPsicologo,console.log("ID Persona: "+t.idPersona)),t.login){let s=t.apiService.datosPersona(t.idPersona),c=yield(0,E.s)(s),b=JSON.stringify(c),g=JSON.parse(b);for(let j=0;j<g.length;j++)t.lista_datos.push(g[j]),t.nombre=t.lista_datos[j].PrimerNombre+" "+t.lista_datos[j].SegundoNombre+" "+t.lista_datos[j].ApellidoPaterno+" "+t.lista_datos[j].ApellidoMaterno,t.rut=t.lista_datos[j].Rut;t.citasAsignadas(),console.log(t.nombre),console.log(t.rut);const m=new Date,Y=6e4*m.getTimezoneOffset();t.selectedDate=new Date(m.getTime()-Y).toISOString().slice(0,-1),console.log(t.lista_respuesta),console.log(t.lista_citas)}else t.router.navigate(["home"])})()}setOpen(t){this.isAlertOpen=t}setOpen4(t){this.isAlertOpen4=t}setOpen5(t){this.isAlertOpen5=t}formatDate(t){const o=new Date(t),s=`${("0"+o.getDate()).slice(-2)}-${("0"+(o.getMonth()+1)).slice(-2)}-${o.getFullYear()}`;this.fechaFinal=s,this.fechaCita=this.fechaFinal}getCurrentDate(){const t=new Date;return`${String(t.getDate()).padStart(2,"0")}-${String(t.getMonth()+1).padStart(2,"0")}-${t.getFullYear()}`}citasAsignadas(){var t=this;return(0,T.A)(function*(){const o=t.getCurrentDate();console.log("Hoy: "+o);let s=t.apiService.obtenerAtencionesPsicologo(t.idPsicologo),c=yield(0,E.s)(s),b=JSON.stringify(c),g=JSON.parse(b);for(let m=0;m<g.length;m++)t.lista_respuesta.push(g[m]),t.lista_respuesta[m].FechaCita>=o&&t.lista_citas.push(t.lista_respuesta[m])})()}scheduleAppointment(t){console.log("Cita agendada para",this.selectedDate,"a las",t)}datosPersona(){var t=this;return(0,T.A)(function*(){let o=t.apiService.datosPersona(t.idPersona),s=yield(0,E.s)(o),c=JSON.stringify(s),b=JSON.parse(c);for(let g=0;g<b.length;g++)t.lista_datos.push(b[g])})()}goHistorial(){this.login=!0,this.router.navigate(["historialpsicologo"],{state:{login:this.login,idPsicologo:this.idPsicologo,idUsuario:this.idUsuario,correo:this.correo,idTipo:this.idTipo,idPersona:this.idPersona},replaceUrl:!0})}goAtenciones(){this.login=!0,this.router.navigate(["atencionespsicologo"],{state:{login:this.login,idPsicologo:this.idPsicologo,idUsuario:this.idUsuario,correo:this.correo,idTipo:this.idTipo,idPersona:this.idPersona},replaceUrl:!0})}logout(){this.login=!1,this.router.navigate(["home"],{state:{login:this.login},replaceUrl:!0})}goEditar(){console.log("Login: ",this.login),this.router.navigate(["editarpsicologo"],{state:{login:this.login,idPsicologo:this.idPsicologo,idUsuario:this.idUsuario,correo:this.correo,idTipo:this.idTipo,idPersona:this.idPersona},replaceUrl:!0})}goHome(){this.login?this.router.navigate(["psicologo"],{state:{login:this.login,idPsicologo:this.idPsicologo,idUsuario:this.idUsuario,correo:this.correo,idTipo:this.idTipo,idPersona:this.idPersona},replaceUrl:!0}):this.router.navigate(["home"],{replaceUrl:!0})}goSoporte(){this.router.navigate(["soportepsicologo"],{state:{login:this.login,idPsicologo:this.idPsicologo,idUsuario:this.idUsuario,correo:this.correo,idTipo:this.idTipo,idPersona:this.idPersona},replaceUrl:!0})}cambiarOpcion(){console.log("Opcion: "+this.mdl_opcion),"Selecciona una opci\xf3n"==this.mdl_opcion?(this.mdl_detalle="",this.formReagendar=!1,this.formCancelar=!1,this.formConsulta=!1,this.formFinalizar=!1,this.botonReagendar=!1,this.botonCancelar=!1,this.botonConsulta=!1,this.botonFinalizar=!1,this.listaReagendar=!1,this.horas=!1,this.fechaAnterior=!1,this.botonFinal=!1):"Reagendar Hora"==this.mdl_opcion?(this.mdl_detalle="",this.formReagendar=!0,this.formCancelar=!1,this.formConsulta=!1,this.formFinalizar=!1,this.botonReagendar=!1,this.botonCancelar=!1,this.botonConsulta=!1,this.botonFinalizar=!1,this.listaReagendar=!1,this.horas=!1,this.fechaAnterior=!1,this.botonFinal=!1,0===this.lista_citas.length&&(this.setOpen4(!0),this.cancelar())):"Cancelar Hora"==this.mdl_opcion?(this.mdl_detalle="",this.formReagendar=!1,this.formCancelar=!0,this.formConsulta=!1,this.formFinalizar=!1,this.botonReagendar=!1,this.botonCancelar=!1,this.botonConsulta=!1,this.botonFinalizar=!1,this.listaReagendar=!1,this.horas=!1,this.fechaAnterior=!1,this.botonFinal=!1,0===this.lista_citas.length&&(this.setOpen4(!0),this.cancelar())):"Realizar Consulta"==this.mdl_opcion?(this.mdl_detalle="",this.formReagendar=!1,this.formCancelar=!1,this.formConsulta=!0,this.formFinalizar=!1,this.botonReagendar=!1,this.botonCancelar=!1,this.botonConsulta=!1,this.botonFinalizar=!1,this.listaReagendar=!1,this.horas=!1,this.fechaAnterior=!1,this.botonFinal=!1):"Finalizar Consulta"==this.mdl_opcion&&(this.mdl_detalle="",this.formReagendar=!1,this.formCancelar=!1,this.formConsulta=!1,this.formFinalizar=!0,this.botonReagendar=!1,this.botonCancelar=!1,this.botonConsulta=!1,this.botonFinalizar=!1,this.listaReagendar=!1,this.horas=!1,this.fechaAnterior=!1,this.botonFinal=!1,0===this.lista_citas.length&&(this.setOpen4(!0),this.cancelar()))}botonTrue(){this.boton=!0,console.log(this.mdl_detalle.IdCita)}botones(){"Reagendar Hora"==this.mdl_opcion&&this.boton?(this.botonReagendar=!0,this.botonCancelar=!1,this.botonConsulta=!1,this.botonFinalizar=!1,this.listaReagendar=!0):"Cancelar Hora"==this.mdl_opcion&&1==this.boton?(this.botonReagendar=!1,this.botonCancelar=!0,this.botonConsulta=!1,this.botonFinalizar=!1,this.listaReagendar=!1):"Realizar Consulta"==this.mdl_opcion&&this.boton?(this.botonReagendar=!1,this.botonCancelar=!1,this.botonConsulta=!0,this.botonFinalizar=!1,this.listaReagendar=!1):"Finalizar Consulta"==this.mdl_opcion&&this.boton&&(this.botonReagendar=!1,this.botonCancelar=!1,this.botonConsulta=!1,this.botonFinalizar=!0,this.listaReagendar=!1)}cancelarCita(){this.isAlertOpen=!1,this.isAlertOpen2=!1,this.isAlertOpen3=!1,this.apiService.sendEmail(this.correoCorp,"SOPORTE: Cancelaci\xf3n de Cita Numero "+this.mdl_detalle.IdCita,"Estimados,\n\nSe informa que el usuario "+this.nombre+" a solicitado cancelar la siguiente cita:\n\nNumero de Cita: "+this.mdl_detalle.IdCita+"\n\nPsicologo: "+this.nombre+"\n\nPaciente: "+this.mdl_detalle.Nombre_Paciente+"\n\nFecha: "+this.mdl_detalle.FechaCita+"\n\nHora: "+this.mdl_detalle.HoraCita+"\n\nSaludos Cordiales,\nArea de TI.",`\n              <p>Estimados,</p>\n              <p>Se informa que el usuario ${this.nombre} a solicitado cancelar la siguiente cita:</p>\n              <p><strong>Numero Cita: ${this.mdl_detalle.IdCita}</strong></p>\n              <p><strong>Psicologo: ${this.nombre}</strong></p>\n              <p><strong>Paciente: ${this.mdl_detalle.Nombre_Paciente}</strong></p>\n              <p><strong>Fecha: ${this.mdl_detalle.FechaCita}</strong></p>\n              <p><strong>Hora: ${this.mdl_detalle.HoraCita}</strong></p>\n              <p>Saludos Cordiales,</p>\n              <p>Area de TI.</p>\n          `).subscribe(c=>{console.log("Email Enviado Correctamente",c),this.isAlertOpen=!0},c=>{console.error("Error al enviar correo",c),this.isAlertOpen2=!0}),setTimeout(()=>{this.cancelar()},2500)}enviarConsulta(){""!=this.mdl_asunto&&""!=this.mdl_mensaje?(this.isAlertOpen=!1,this.isAlertOpen2=!1,this.isAlertOpen3=!1,this.apiService.sendEmail(this.correoCorp,"CONSULTA: "+this.mdl_asunto,"Estimados,\n\nEl usuario "+this.nombre+" ha enviado la siguiente consulta:\n\n"+this.mdl_mensaje+"\n\nDatos del usuario:\nCorreo: "+this.correo+"\nRut: "+this.rut+"\n\nSaludos Cordiales,\nArea de TI.",`\n              <p>Estimados,</p>\n              <p>El usuario ${this.nombre} ha enviado la siguiente consulta:</p>\n              <p><strong>${this.mdl_mensaje}</strong></p>\n              <p>Datos del usuario:</p>\n              <ul> \n                <li>Correo: ${this.correo}</li> \n                <li>Rut: ${this.rut}</li>  \n              </ul>\n              <p>Saludos Cordiales,</p>\n              <p>Area de TI.</p>\n          `).subscribe(c=>{console.log("Email Enviado Correctamente",c),this.isAlertOpen=!0},c=>{console.error("Error al enviar correo",c),this.isAlertOpen2=!0}),setTimeout(()=>{this.cancelar()},2500)):this.isAlertOpen5=!0}cancelar(){this.formReagendar=!1,this.formCancelar=!1,this.formConsulta=!1,this.formFinalizar=!1,this.botonReagendar=!1,this.botonCancelar=!1,this.botonConsulta=!1,this.listaReagendar=!1,this.mdl_detalle="",this.mdl_asunto="",this.mdl_mensaje="",this.mdl_opcion="",this.botonFinal=!1,this.lista_respuesta=[],this.lista_citas=[],this.citasAsignadas()}loadAvailableTimes(){var t=this;return(0,T.A)(function*(){t.horas=!1,t.fechaAnterior=!1,t.botonFinal=!1,t.availableTimes=[],console.log("Fecha seleccionada:",t.selectedDate),t.formatDate(t.selectedDate),console.log("Id Psicologo:",t.idPsicologo),console.log("Fecha formateada:",t.fechaFinal);const o=t.getCurrentDate();console.log("Hoy: "+o);const s=t.parseDate(o);if(t.parseDate(t.fechaFinal)<s)t.fechaAnterior=!0,t.botonFinal=!1,t.listaReagendar=!1;else if(t.selectedDate){console.log(t.mdl_detalle.IdPsicologo);let b=t.apiService.obtenerHoras(t.idPsicologo,t.fechaFinal),g=yield(0,E.s)(b);console.log("Respuesta completa de la API:",g),Array.isArray(g)?0===g.length?(t.horas=!0,t.listaReagendar=!1,t.botonFinal=!1,console.log("No hay horas disponibles.")):(t.listaReagendar=!0,g.forEach(m=>{t.availableTimes.push(m),console.log("Hora disponible:",m)}),t.availableTimes.length>0&&(t.validadorHora=t.availableTimes[0].IdCita)):console.log("Respuesta no es un arreglo. Revisar el formato de los datos recibidos de la API.")}})()}parseDate(t){const[o,s,c]=t.split("-").map(b=>parseInt(b,10));return new Date(c,s-1,o)}ultimoBoton(){this.botonFinal=!0}reagendarCitaFinal(){this.apiService.confirmarCita(this.mdl_detalle.IdPaciente,3,this.mdl_detalle.IdCita).subscribe(t=>{console.log("Cita Actualizada Correctamente",t)},t=>{console.error("Error al agendar la cita",t)}),this.apiService.confirmarCita(this.mdl_detalle.IdPaciente,1,this.mdl_hora.IdCita).subscribe(t=>{console.log("Cita Agendada Correctamente",t),this.isAlertOpen3=!0},t=>{console.error("Error al agendar la cita",t),this.isAlertOpen2=!0}),setTimeout(()=>{this.cancelar()},2500)}finalizarCita(){""!=this.mdl_asunto&&""!=this.mdl_mensaje?(this.apiService.finalizarCita(this.mdl_mensaje,this.mdl_asunto,this.mdl_detalle.IdCita).subscribe(t=>{console.log("Cita Actualizada Correctamente",t)},t=>{console.error("Error al agendar la cita",t)}),this.apiService.confirmarCita(this.mdl_detalle.IdPaciente,2,this.mdl_detalle.IdCita).subscribe(t=>{console.log("Cita Actualizada Correctamente",t),this.isAlertOpen=!0},t=>{console.error("Error al agendar la cita",t),this.isAlertOpen2=!0}),setTimeout(()=>{this.cancelar()},2500)):this.isAlertOpen5=!0}}return(a=r).\u0275fac=function(t){return new(t||a)(e.rXU(f.Ix),e.rXU(n.G))},a.\u0275cmp=e.VBU({type:a,selectors:[["app-soportepsicologo"]],decls:74,vars:27,consts:[[1,"toolbarheader"],["slot","start"],["slot","end"],[3,"click"],[1,"header-title"],[1,"logo-link",2,"color","#000000",3,"click"],["src","../../assets/icon/psicoagendalogo.png","alt","Logo",1,"header-logo"],[3,"fullscreen"],["label","Solicitud","label-placement","floating","fill","outline","interface","popover",3,"ngModelChange","ionChange","ngModel"],[4,"ngIf"],["expand","block","class","boton",3,"click",4,"ngIf"],[1,"footer-content"],[1,"footer-left"],[1,"footer-right"],[1,"logo-link"],["name","call-outline",1,"header-logo"],["name","logo-instagram",1,"header-logo"],["header","Informaci\xf3n","message","Su solicitud ha sido enviada",3,"didDismiss","isOpen","buttons"],["header","Informaci\xf3n","message","Error al procesar solicitud, intentar nuevamente mas tarde",3,"didDismiss","isOpen","buttons"],["header","Informaci\xf3n","message","Cita reagendada correctamente",3,"didDismiss","isOpen","buttons"],["header","Informaci\xf3n","message","No hay registros",3,"didDismiss","isOpen","buttons"],["header","Informaci\xf3n","message","No puede dejar campos vacios",3,"didDismiss","isOpen","buttons"],["label","Cita","label-placement","floating","fill","outline","interface","popover",3,"ngModelChange","ionChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["expand","block",1,"boton",3,"click"],["displayFormat","MM/DD/YYYY","presentation","date",3,"ngModelChange","ionChange","ngModel"],[2,"margin-left","auto","margin-right","auto"],["label","Hora","label-placement","floating","fill","outline",3,"ngModelChange","ionChange","ngModel"],["label","Asunto","label-placement","floating","fill","outline","type","text",3,"ngModelChange","ngModel"],["label","Mensaje","labelPlacement","floating","fill","outline","type","text",3,"ngModelChange","ngModel","autoGrow"],["label","Diagnostico","label-placement","floating","fill","outline","type","text",3,"ngModelChange","ngModel","autoGrow"],["label","Tratamiento","labelPlacement","floating","fill","outline","type","text",3,"ngModelChange","ngModel","autoGrow"]],template:function(t,o){1&t&&(e.j41(0,"ion-header")(1,"ion-toolbar",0)(2,"ion-buttons",1),e.nrm(3,"ion-menu-button"),e.k0s(),e.j41(4,"ion-buttons",2)(5,"ion-button",3),e.bIt("click",function(){return o.goEditar()}),e.EFF(6,"Editar datos"),e.k0s(),e.j41(7,"ion-button",3),e.bIt("click",function(){return o.goHistorial()}),e.EFF(8,"Mi Historial"),e.k0s(),e.j41(9,"ion-button",3),e.bIt("click",function(){return o.goAtenciones()}),e.EFF(10,"Mis Atenciones"),e.k0s(),e.j41(11,"ion-button",3),e.bIt("click",function(){return o.logout()}),e.EFF(12,"Cerrar sesi\xf3n"),e.k0s()(),e.j41(13,"ion-title",4)(14,"a",5),e.bIt("click",function(){return o.goHome()}),e.nrm(15,"img",6),e.EFF(16," PsicoAgenda "),e.k0s()()()(),e.j41(17,"ion-content",7)(18,"ion-card")(19,"ion-card-header")(20,"ion-card-title"),e.EFF(21,"Soporte"),e.k0s()(),e.j41(22,"ion-card-content")(23,"ion-grid")(24,"ion-col")(25,"ion-select",8),e.mxI("ngModelChange",function(c){return e.DH7(o.mdl_opcion,c)||(o.mdl_opcion=c),c}),e.bIt("ionChange",function(){return o.cambiarOpcion()}),e.j41(26,"ion-select-option"),e.EFF(27,"Reagendar Hora"),e.k0s(),e.j41(28,"ion-select-option"),e.EFF(29,"Cancelar Hora"),e.k0s(),e.j41(30,"ion-select-option"),e.EFF(31,"Realizar Consulta"),e.k0s(),e.j41(32,"ion-select-option"),e.EFF(33,"Finalizar Consulta"),e.k0s()()(),e.DNE(34,u,3,2,"ion-col",9),e.j41(35,"ion-col"),e.DNE(36,h,2,0,"ion-button",10),e.k0s(),e.DNE(37,C,3,2,"ion-col",9)(38,P,3,1,"ion-col",9),e.j41(39,"ion-col"),e.DNE(40,F,3,0,"ion-item",9)(41,R,3,0,"ion-item",9),e.k0s(),e.DNE(42,S,3,2,"ion-col",9),e.j41(43,"ion-col"),e.DNE(44,O,2,0,"ion-button",10),e.k0s(),e.DNE(45,M,2,1,"ion-col",9)(46,v,2,2,"ion-col",9),e.j41(47,"ion-col"),e.DNE(48,k,2,0,"ion-button",10),e.k0s(),e.DNE(49,G,3,2,"ion-col",9)(50,y,2,2,"ion-col",9)(51,w,2,2,"ion-col",9),e.j41(52,"ion-col"),e.DNE(53,$,2,0,"ion-button",10),e.k0s()()()()(),e.j41(54,"ion-footer")(55,"ion-toolbar")(56,"div",11)(57,"div",12)(58,"p"),e.EFF(59,"\xa92024 - PsicoAgenda APP"),e.k0s(),e.j41(60,"p"),e.EFF(61,"Todos los Derechos Reservados"),e.k0s()(),e.j41(62,"div",13)(63,"p",14),e.nrm(64,"ion-icon",15),e.EFF(65,"Tel\xe9fono Contacto: 920256865 "),e.k0s(),e.j41(66,"p",14),e.nrm(67,"ion-icon",16),e.EFF(68,"www.instagram.com/psicoagenda"),e.k0s()()()()(),e.j41(69,"ion-alert",17),e.bIt("didDismiss",function(){return o.setOpen(!1)}),e.k0s(),e.j41(70,"ion-alert",18),e.bIt("didDismiss",function(){return o.setOpen(!1)}),e.k0s(),e.j41(71,"ion-alert",19),e.bIt("didDismiss",function(){return o.setOpen(!1)}),e.k0s(),e.j41(72,"ion-alert",20),e.bIt("didDismiss",function(){return o.setOpen4(!1)}),e.k0s(),e.j41(73,"ion-alert",21),e.bIt("didDismiss",function(){return o.setOpen5(!1)}),e.k0s()),2&t&&(e.R7$(17),e.Y8G("fullscreen",!0),e.R7$(8),e.R50("ngModel",o.mdl_opcion),e.R7$(9),e.Y8G("ngIf",o.formCancelar),e.R7$(2),e.Y8G("ngIf",o.botonCancelar),e.R7$(),e.Y8G("ngIf",o.formReagendar),e.R7$(),e.Y8G("ngIf",o.botonReagendar),e.R7$(2),e.Y8G("ngIf",o.horas),e.R7$(),e.Y8G("ngIf",o.fechaAnterior),e.R7$(),e.Y8G("ngIf",o.listaReagendar),e.R7$(2),e.Y8G("ngIf",o.botonFinal),e.R7$(),e.Y8G("ngIf",o.formConsulta),e.R7$(),e.Y8G("ngIf",o.formConsulta),e.R7$(2),e.Y8G("ngIf",o.formConsulta),e.R7$(),e.Y8G("ngIf",o.formFinalizar),e.R7$(),e.Y8G("ngIf",o.botonFinalizar),e.R7$(),e.Y8G("ngIf",o.botonFinalizar),e.R7$(2),e.Y8G("ngIf",o.botonFinalizar),e.R7$(16),e.Y8G("isOpen",o.isAlertOpen)("buttons",o.alertButtons),e.R7$(),e.Y8G("isOpen",o.isAlertOpen2)("buttons",o.alertButtons),e.R7$(),e.Y8G("isOpen",o.isAlertOpen3)("buttons",o.alertButtons),e.R7$(),e.Y8G("isOpen",o.isAlertOpen4)("buttons",o.alertButtons),e.R7$(),e.Y8G("isOpen",o.isAlertOpen5)("buttons",o.alertButtons))},dependencies:[D.Sq,D.bT,A.BC,A.vS,l.Zy,l.Jm,l.QW,l.b_,l.I9,l.ME,l.tN,l.hU,l.W9,l.A9,l.M0,l.lO,l.eU,l.iq,l.$w,l.uz,l.MC,l.Nm,l.Ip,l.IO,l.nc,l.BC,l.ai,l.Je,l.Gw],styles:['@charset "UTF-8";[_ngcontent-%COMP%]:root{--ion-color-primary: #4a90e2;--ion-background-color: #f5f5f5}ion-header[_ngcontent-%COMP%]{--background: #fff}ion-toolbar[_ngcontent-%COMP%]{--padding-start: 16px;--padding-end: 16px;--background: #32E0C4}.main-banner[_ngcontent-%COMP%]{--background: url(fondo_final_login.1fef84ff5e05250e.png) no-repeat center center / cover;color:#000;text-align:center}.main-banner[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem}.main-banner[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:2rem;font-size:1rem}ion-footer[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;--background: #333;color:#fff;padding:1.5rem;font-size:.8rem;text-align:center}ion-footer[_ngcontent-%COMP%]   .footer-content[_ngcontent-%COMP%]{display:flexbox;justify-content:space-between;align-items:center;width:100%}ion-footer[_ngcontent-%COMP%]   .footer-left[_ngcontent-%COMP%]{flex:1}ion-footer[_ngcontent-%COMP%]   .footer-right[_ngcontent-%COMP%]{text-align:right}ion-footer[_ngcontent-%COMP%]   .footer-right[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--ion-text-color);text-decoration:none;position:absolute}ion-footer[_ngcontent-%COMP%]   .footer-right[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{--color: var(--ion-text-color)}ion-icon[_ngcontent-%COMP%]{font-size:2em;color:#009688;width:24px;height:24px}.titulo[_ngcontent-%COMP%]{padding-left:5%}.imagen_usr[_ngcontent-%COMP%]{max-width:50px;padding-left:2%;padding-top:2%}ion-card[_ngcontent-%COMP%]{max-width:100%;margin-left:100px;margin-right:100px}.card-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.boton[_ngcontent-%COMP%]{--background: #009688;text-transform:capitalize}ion-datetime[_ngcontent-%COMP%]{--background: transparent;border-radius:5px;box-shadow:rgba(var(--ion-color-rose-rgb),.3) 0 10px 15px -3px;margin-left:auto;margin-right:auto}ion-item[_ngcontent-%COMP%]{--background: transparent;border-color:#737373;border-radius:5px;margin-bottom:0;--border-style: solid;border:1px solid}']}),r})()}];let B=(()=>{var a;class r{}return(a=r).\u0275fac=function(t){return new(t||a)},a.\u0275mod=e.$C({type:a}),a.\u0275inj=e.G2t({imports:[f.iI.forChild(H),f.iI]}),r})(),U=(()=>{var a;class r{}return(a=r).\u0275fac=function(t){return new(t||a)},a.\u0275mod=e.$C({type:a}),a.\u0275inj=e.G2t({imports:[D.MD,A.YN,l.bv,B]}),r})()},3366:(z,x,d)=>{d.d(x,{G:()=>l});var D=d(4438),A=d(1626);let l=(()=>{var f;class T{constructor(e){this.http=e,this.ruta="https://psicoagenda-api.azurewebsites.net/usuarios/login/",this.ruta_ps="https://psicoagenda-api.azurewebsites.net/psicologos/get_psicologos/",this.ruta_busqueda_ps="https://psicoagenda-api.azurewebsites.net/psicologos/datos_psicologo/",this.ruta_prestadores="https://prestadores.azurewebsites.net/profesionales/get_profesionales/",this.ruta_horas="https://psicoagenda-api.azurewebsites.net/psicologos/horas_psicologo/",this.ruta_detalles_citas="https://psicoagenda-api.azurewebsites.net/usuarios/get_citas_by_id",this.ruta_proxima_cita="https://psicoagenda-api.azurewebsites.net/usuarios/get_proxima_cita_by_id",this.ruta_citas_psicologo="https://psicoagenda-api.azurewebsites.net/psicologos/get_citas_psicologo",this.ruta_atenciones_psicologo="https://psicoagenda-api.azurewebsites.net/psicologos/get_atenciones_psicologo",this.ruta_historial_psicologo="https://psicoagenda-api.azurewebsites.net/psicologos/get_historial_psicologo",this.rutaId="https://psicoagenda-api.azurewebsites.net/usuarios/obtener_id/",this.rutaCita="https://psicoagenda-api.azurewebsites.net/paciente/agendarCita/",this.rutaRegistroPsicologo="https://psicoagenda-api.azurewebsites.net/usuarios/registro_psicologo/",this.rutaRecuperacion="https://psicoagenda-api.azurewebsites.net/usuarios/cambiar_contrasena/",this.rutaToken="https://psicoagenda-api.azurewebsites.net/usuarios/guadarToken/",this.rutaInsertarPaciente="https://psicoagenda-api.azurewebsites.net/usuarios/insertar_paciente/",this.rutaMantenedorCita="https://psicoagenda-api.azurewebsites.net/admin/buscarCita/",this.rutaBuscarUsuario="https://psicoagenda-api.azurewebsites.net/admin/buscarUsuario/",this.rutaBuscarComuna="https://psicoagenda-api.azurewebsites.net/usuarios/comuna/",this.rutaBuscarEspecialidad="https://psicoagenda-api.azurewebsites.net/psicologos/especialidad/",this.rutaEspecialidades="https://psicoagenda-api.azurewebsites.net/psicologos/allEspecialidades/",this.rutaBuscarPsicologos="https://psicoagenda-api.azurewebsites.net/psicologos/buscar_psicologos/",this.rutaComunas="https://psicoagenda-api.azurewebsites.net/usuarios/todasLasComunas/",this.rutaAsignadas="https://psicoagenda-api.azurewebsites.net/usuarios/citas_asignadas/",this.rutaPersona="https://psicoagenda-api.azurewebsites.net/usuarios/datosPaciente/",this.rutaFinalizarCita="https://psicoagenda-api.azurewebsites.net/paciente/finalizarCita/",this.rutaInsertarCitas="https://psicoagenda-api.azurewebsites.net/paciente/insertarCitas/",this.rutaBorraCita="https://psicoagenda-api.azurewebsites.net/paciente/borrarCita/"}sendEmail(e,n,p,u){return this.http.post("https://psicoagenda-api.azurewebsites.net/api/v1/email/send",{to:e,subject:n,text:p,html:u})}insertarCitas(e,n){return this.http.get(this.rutaInsertarCitas+"?fechaInicio="+e+"&fechaFin="+n).pipe()}adminCita(e,n){return this.http.get(this.rutaMantenedorCita+"?Criterio="+e+"&Dato="+n).pipe()}buscarPsicologos(e,n,p){return this.http.get(this.rutaBuscarPsicologos+"?Criterio="+e+"&Dato="+n+"&Dato2="+p).pipe()}buscarUsuario(e,n){return this.http.get(this.rutaBuscarUsuario+"?Criterio="+e+"&Dato="+n).pipe()}buscarComuna(e){return this.http.get(this.rutaBuscarComuna+"?NombreComuna="+e).pipe()}buscarEspecilidad(e){return this.http.get(this.rutaBuscarEspecialidad+"?NombreEspecialidad="+e).pipe()}citasAsignadas(e){return this.http.get(this.rutaAsignadas+"?IdPaciente="+e).pipe()}especilidades(){return this.http.get(this.rutaEspecialidades)}borrarCita(e){return this.http.get(this.rutaBorraCita+"?IdCita="+e)}obtenerComunas(){return this.http.get(this.rutaComunas)}updatePaciente(e,n,p,u,h,_,C,P,F,R){return this.http.post("https://psicoagenda-api.azurewebsites.net/usuarios/patch_paciente/",{IdPersona:e,IdDireccion:n,Calle:p,Numero:u,IdComuna:h,Telefono:_,PrimerNombre:C,SegundoNombre:P,ApellidoPaterno:F,ApellidoMaterno:R})}updatePsicologo(e,n,p,u,h,_,C,P,F,R,I,S,O,M){return this.http.post("https://psicoagenda-api.azurewebsites.net/psicologos/patch_psicologo/",{IdUsuario:e,IdPersona:n,IdDireccion:p,Calle:u,Numero:h,IdComuna:_,ValorSesion:C,Telefono:P,Descripcion:F,IdEspecialidad:R,PrimerNombre:I,SegundoNombre:S,ApellidoPaterno:O,ApellidoMaterno:M})}recuperacionClave(e,n){return this.http.get(this.rutaRecuperacion+"?CorreoElectronico="+e+"&NuevaContrasena="+n).pipe()}obtenerUsuario(e,n){return this.http.get(this.ruta+"?CorreoElectronico="+e+"&Contrasena="+n).pipe()}obtenerHoras(e,n){return this.http.get(this.ruta_horas+"?IdPsicologo="+e+"&FechaCita="+n).pipe()}listaPsicologos(){return this.http.get(this.ruta_ps).pipe()}datosPsicologo(e){return this.http.get(this.ruta_busqueda_ps+"?IdPsicologo="+e).pipe()}validarPrestadores(e){return this.http.get(this.ruta_prestadores+"?Rut="+e).pipe()}obtenerDetallesCitas(e){return this.http.get(this.ruta_detalles_citas+"?IdPaciente="+e).pipe()}datosPersona(e){return this.http.get(this.rutaPersona+"?IdPersona="+e).pipe()}obtenerProximaCita(e){return this.http.get(this.ruta_proxima_cita+"?IdPaciente="+e).pipe()}obtenerCitaPsicologo(e){return this.http.get(this.ruta_citas_psicologo+"?IdPsicologo="+e).pipe()}obtenerHistorialPsicologo(e){return this.http.get(this.ruta_historial_psicologo+"?IdPsicologo="+e).pipe()}obtenerAtencionesPsicologo(e){return this.http.get(this.ruta_atenciones_psicologo+"?IdPsicologo="+e).pipe()}createTransaction(e,n,p,u){return this.http.post("https://psicoagenda-api.azurewebsites.net/api/v1/transbank/transaction/create",{buy_order:e,session_id:n,amount:p,return_url:u})}commitTransaction(e){return this.http.put(`https://psicoagenda-api.azurewebsites.net/api/v1/transbank/transaction/commit/${e}`,{token:e})}getId(e,n){return this.http.get(this.rutaId+"?IdTipoUsuario="+e+"&IdUsuario="+n).pipe()}confirmarCita(e,n,p){return this.http.get(this.rutaCita+"?IdPaciente="+e+"&IdEstadoCita="+n+"&IdCita="+p).pipe()}finalizarCita(e,n,p){return this.http.get(this.rutaFinalizarCita+"?Tratamiento="+e+"&Diagnostico="+n+"&IdCita="+p).pipe()}registrarPsicologo(e,n,p,u,h,_,C,P,F,R,I,S,O,M,v){return this.http.post(this.rutaRegistroPsicologo,{Calle:e,Numero:n,IdComuna:p,PrimerNombre:u,SegundoNombre:h,ApellidoPaterno:_,ApellidoMaterno:C,Telefono:P,FechaNacimiento:F,CorreoElectronico:R,Contrasena:I,IdTipoUsuario:S,Rut:O,ValorSesion:M,IdEspecialidad:v})}guardarToken(e,n){return this.http.get(this.rutaToken+"?Token="+e+"&CorreoElectronico="+n).pipe()}registrarPaciente(e,n,p,u,h,_,C,P,F,R,I,S,O){return this.http.post(this.rutaInsertarPaciente,{Calle:e,Numero:n,IdComuna:p,PrimerNombre:u,SegundoNombre:h,ApellidoPaterno:_,ApellidoMaterno:C,Telefono:P,FechaNacimiento:F,CorreoElectronico:R,Contrasena:I,IdTipoUsuario:S,Rut:O})}}return(f=T).\u0275fac=function(e){return new(e||f)(D.KVO(A.Qq))},f.\u0275prov=D.jDH({token:f,factory:f.\u0275fac,providedIn:"root"}),T})()}}]);